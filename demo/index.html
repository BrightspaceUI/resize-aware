<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>d2l-resize-aware demo</title>

		<script type="module" src="/node_modules/@brightspace-ui/core/components/inputs/input-textarea.js"></script>
		<script type="module" src="../d2l-resize-aware.js"></script>

		<style>
			.bar {
				display: inline-block;
				height: 1em;
				margin-right: 1ch;
			}

			#height-bar {
				background-color: red;
			}

			#width-bar {
				background-color: blue;
			}

			d2l-input-textarea {
				min-width: 100px;
			}
		</style>
	</head>
	<body>
		<div>
			<b>Textarea Height:</b><br>
			<span class="bar" id="height-bar"></span><span id="height-text"></span>
			<br>
			<b>Textarea Width:</b><br>
			<span class="bar" id="width-bar"></span><span id="width-text"></span>
			<br><br>
			<d2l-resize-aware id="resize-detector">
				<d2l-input-textarea label="type here" value="Type here!"></d2l-input-textarea>
				<br>
				<textarea>Resize me!</textarea>
			</d2l-resize-aware>
		</div>

		<script>
			document.getElementById('resize-detector').addEventListener('d2l-resize-aware-resized', (event) => {
				const width = `${event.detail.current.width}px`;
				const height = `${event.detail.current.height}px`;
				document.getElementById('height-bar').style.width = height;
				document.getElementById('height-text').textContent = height;
				document.getElementById('width-bar').style.width = width;
				document.getElementById('width-text').textContent = width;
			});
		</script>
	</body>
</html>
